<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        android:fitsSystemWindows="true"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

    <com.google.android.material.appbar.AppBarLayout
            android:id="@+id/main.appbar"
            android:layout_width="match_parent"
            android:layout_height="500dp"
            android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar"
            android:background="@android:color/black">

        <com.google.android.material.appbar.CollapsingToolbarLayout
                android:id="@+id/main.collapsing"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                app:layout_scrollFlags="scroll|exitUntilCollapsed"
                app:contentScrim="?attr/colorPrimary"
                app:expandedTitleMarginStart="48dp"
                app:expandedTitleMarginEnd="64dp">

            <ImageView
                    android:id="@+id/main_backdrop"
                    android:transitionName="@string/photo_transition"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:scaleType="centerCrop"
                    android:src="@drawable/doom"
                    app:layout_collapseMode="parallax"/>

            <androidx.appcompat.widget.Toolbar
                    android:id="@+id/main.toolbar"
                    android:layout_width="match_parent"
                    android:layout_height="?attr/actionBarSize"
                    app:popupTheme="@style/ThemeOverlay.AppCompat.Light"
                    app:layout_collapseMode="pin"/>
        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            app:layout_behavior="@string/appbar_scrolling_view_behavior" android:id="@+id/nestedScrollView">

        <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:textSize="20sp"
                android:lineSpacingExtra="8dp"
                android:padding="10dp"
                android:text="  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean dignissim lorem eget lorem iaculis, non sodales felis auctor. Cras vehicula ultricies consequat. Proin risus sem, egestas non turpis id, elementum finibus dolor. Donec volutpat rutrum vulputate. Sed id laoreet enim. Nullam quam lectus, sollicitudin sed interdum ac, gravida at nulla. Donec egestas, nulla nec volutpat interdum, dolor augue hendrerit nisi, sit amet vestibulum dolor nulla in eros. Duis fermentum lectus vel nisl facilisis lobortis. Duis laoreet ex turpis, eget mattis purus malesuada fringilla. Suspendisse eget sem ligula.  Aliquam hendrerit nisl ullamcorper, dictum libero sed, egestas augue. Proin tincidunt felis sed nulla consectetur pellentesque. Mauris porttitor lacus ligula, a malesuada turpis malesuada laoreet. Praesent mollis urna id erat pharetra pellentesque. Mauris ut sodales eros. Quisque convallis maximus varius. Nunc porttitor, lectus euismod ultricies dapibus, dui diam mattis arcu, a viverra ligula mi vel ex. Phasellus sollicitudin dui id elementum convallis.  Vivamus hendrerit fringilla lectus eget fermentum. Vivamus vel massa lectus. Curabitur elit nisi, dignissim ac purus nec, consectetur gravida tellus. Pellentesque porttitor maximus commodo. Pellentesque velit arcu, convallis ut sodales vel, consequat ut ante. In maximus varius justo quis vehicula. Nullam non libero nisi. Curabitur in elit id quam feugiat consectetur. Vivamus mauris metus, pellentesque non dolor et, pulvinar scelerisque justo. Proin sed laoreet erat, in tincidunt nisl. Duis eu justo ac felis mollis gravida a vel dui. Donec interdum scelerisque ex at aliquet.  In hac habitasse platea dictumst. Pellentesque consequat eros eget maximus euismod. Donec rhoncus mauris id quam tincidunt, a venenatis dolor finibus. Pellentesque sem risus, ullamcorper at euismod sed, hendrerit eget orci. Pellentesque eu urna in orci pellentesque dapibus ac quis mauris. Integer tortor purus, auctor at faucibus sit amet, pulvinar quis sapien. Nunc sed libero quis tortor facilisis dignissim in vitae velit. Suspendisse purus nisi, egestas vitae convallis eget, fermentum tempus ipsum. Praesent tempus, lorem et laoreet vestibulum, ligula lectus eleifend sem, non molestie metus ex et purus. Maecenas sollicitudin maximus justo eget cursus.  Sed ut nulla venenatis, fringilla arcu sit amet, finibus nunc. Aenean eget mi id purus rhoncus suscipit vel auctor mauris. Phasellus et efficitur risus. Nam malesuada sit amet mi et vehicula. Nunc est metus, aliquam suscipit metus sit amet, consequat pretium nulla. Quisque maximus malesuada nisi in congue. Aliquam convallis odio elit, at aliquam tellus laoreet non. Nullam pulvinar urna cursus arcu vulputate pretium. Aenean tempus feugiat leo, a congue enim euismod non. Nunc ultricies orci nec lorem accumsan, id molestie sapien ornare. Ut sit amet ultrices sem. Donec vehicula dui at dolor dignissim pellentesque. Vestibulum maximus feugiat elit, eget tincidunt magna vulputate et."/>
    </androidx.core.widget.NestedScrollView>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:layout_margin="10dp"
            android:src="@drawable/ic_done"
            app:layout_anchor="@id/main.appbar"
            app:layout_anchorGravity="bottom|right|end" app:backgroundTint="@android:color/holo_green_dark"
            app:elevation="4dp"/>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
            app:backgroundTint="@color/primaryColor"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"
            android:layout_margin="10dp"
            android:src="@drawable/ic_block"
            app:layout_anchor="@+id/main.appbar"
            app:layout_anchorGravity="left|bottom" android:id="@+id/floatingActionButton" app:elevation="4dp"/>

    <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" android:src="@drawable/ic_arrow_back" android:id="@+id/closeButton"
            app:layout_anchorGravity="top|left"
            android:layout_margin="0dp"
            android:padding="10dp" android:elevation="4dp" android:clickable="true" android:focusable="true"/>
</androidx.coordinatorlayout.widget.CoordinatorLayout>